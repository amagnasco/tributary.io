
<Body:>
  <app:topbar:topbar class="topbar-container">

  <section id="container" class="flexbox">
      <app:display class="display flexbox">
      <section class="flexbox" id="icon-bar">
        <ul id="icon-list">
          <li title="files" x-bind="click: selectFiles">
            <i class="icon-folder" ></i>
          </li>
          <li title="tools" x-bind="click: selectTools">
            <i class="icon-tools"></i>
          </li>
          <li title="settings" x-bind="click: selectSettings" class="active-icon">
            <i class="icon-cog"></i>
          </li>
          <li title="code" x-bind="click: selectCode" style="display: none;">
            <i class="icon-code"></i>
          </li>
          <li title="publish" x-bind="click: selectPublish">
            <i class="icon-publish"></i>
          </li>
          <li style="position: absolute; bottom: 0;" title="fullscreen" x-bind="click: selectFullscreen">
            <i class="icon-resize-full"></i>
          </li>

          <div id="icon-bar-content" class="active">

            {#each _page.controls as :control}
            <div>
              <derby:view view="panel:{{:control}}:panel" optional>
            </div>
            {/}
          </div>


        </ul>



        <script type="text/javascript" charset="utf-8">
        $(document).ready(function(){
          $("#icon-list li").tipsy({gravity: 'e', delayIn: 540, fade: 'true'});
        })
        </script>


      </section>
      <app:panel class="panel">
  </section>

<display:>
  <section class={{@class}} id="box-1">
  {#if _page.loading}<!--<h2 style='text-align: center;'>Reticulating splines...</h2>--> 
  
  <?xml version="1.0" standalone="no"?>
  <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
  <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="110px" height="110px">
    <g transform="translate(5 5)">
      <circle cx="50" cy="0" r="5" style="opacity:0.3">
        <animate attributeType="CSS" attributeName="opacity" from="1" to="0.3" dur="1.2s" repeatCount="indefinite" begin="0s" />
      </circle>
      <circle cx="75" cy="6.6987298" r="5" style="opacity:0.3">
        <animate attributeType="CSS" attributeName="opacity" from="1" to="0.3" dur="1.2s" repeatCount="indefinite" begin="0.1s" />
      </circle>
      <circle cx="93.3012702" cy="25" r="5" style="opacity:0.3">
        <animate attributeType="CSS" attributeName="opacity" from="1" to="0.3" dur="1.2s" repeatCount="indefinite" begin="0.2s" />
      </circle>
      <circle cx="100" cy="50" r="5" style="opacity:0.3">
        <animate attributeType="CSS" attributeName="opacity" from="1" to="0.3" dur="1.2s" repeatCount="indefinite" begin="0.3s" />
      </circle>
      <circle cx="93.3012702" cy="75" r="5" style="opacity:0.3">
        <animate attributeType="CSS" attributeName="opacity" from="1" to="0.3" dur="1.2s" repeatCount="indefinite" begin="0.4s" />
      </circle>
      <circle cx="75" cy="93.3012702" r="5" style="opacity:0.3">
        <animate attributeType="CSS" attributeName="opacity" from="1" to="0.3" dur="1.2s" repeatCount="indefinite" begin="0.5s" />
      </circle>
      <circle cx="50" cy="100" r="5" style="opacity:0.3">
        <animate attributeType="CSS" attributeName="opacity" from="1" to="0.3" dur="1.2s" repeatCount="indefinite" begin="0.6s" />
      </circle>
      <circle cx="25" cy="93.3012702" r="5" style="opacity:0.3">
        <animate attributeType="CSS" attributeName="opacity" from="1" to="0.3" dur="1.2s" repeatCount="indefinite" begin="0.7s" />
      </circle>
      <circle cx="6.6987298" cy="75" r="5" style="opacity:0.3">
        <animate attributeType="CSS" attributeName="opacity" from="1" to="0.3" dur="1.2s" repeatCount="indefinite" begin="0.8s" />
      </circle>
      <circle cx="0" cy="50" r="5" style="opacity:0.3">
        <animate attributeType="CSS" attributeName="opacity" from="1" to="0.3" dur="1.2s" repeatCount="indefinite" begin="0.9s" />
      </circle>
      <circle cx="6.6987298" cy="25" r="5" style="opacity:0.3">
        <animate attributeType="CSS" attributeName="opacity" from="1" to="0.3" dur="1.2s" repeatCount="indefinite" begin="1s" />
      </circle>
      <circle cx="25" cy="6.6987298" r="5" style="opacity:0.3">
        <animate attributeType="CSS" attributeName="opacity" from="1" to="0.3" dur="1.2s" repeatCount="indefinite" begin="1.1s" />
      </circle>
    </g>
  </svg>
  
  {/}
   <pre style="display: none;">{_page.inlet.files.inlet.code}</pre>

  </section>

<panel:>
  <section class={{@class}} id="box-2">

    <section class="code-running" id="codetoolbar">
      <strong>Inlet name:</strong> <span  contenteditable="true" id="filename">Filename</span>
      <span id="inlet-status">Saving...</span>
    </section>

    <section class="" id="code">
      <div id="codemirror">
      </div>
    </section>

  </section>
  
  
<Footer:>
  <!-- Yo, son! -->
